(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{7532:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return c(7021)}])},6482:function(a,b,c){"use strict";c.d(b,{"_":function(){return d}});var d=function(){return{localStorage:localStorage}}},7021:function(a,b,c){"use strict";c.r(b);var d=c(4924),e=c(6042),f=c(9396),g=c(603),h=c(5893),i=c(1163),j=c(7294),k=c(7536),l=c(6482),m={ブラームス交響曲セット:{ファゴット:{交響曲第1番:["1st","2nd","CFg"],交響曲第2番:["1st","2nd"],交響曲第3番:["1st","2nd","CFg"],交響曲第4番:["1st","2nd","CFg"]},ホルン:{交響曲第1番:["1st","2nd","3rd","4th"],交響曲第2番:["1st","2nd","3rd","4th"],交響曲第3番:["1st","2nd","3rd","4th"],交響曲第4番:["1st","2nd","3rd","4th"]},トランペット:{交響曲第1番:["1st","2nd"],交響曲第2番:["1st","2nd"],交響曲第3番:["1st","2nd"],交響曲第4番:["1st","2nd"]}},ベートーヴェン交響曲セット:{ファゴット:{交響曲第1番:["1st","2nd"],交響曲第2番:["1st","2nd"],交響曲第3番:["1st","2nd"],交響曲第4番:["1st","2nd"],交響曲第5番:["1st","2nd","CFg"],交響曲第6番:["1st","2nd"],交響曲第7番:["1st","2nd"],交響曲第8番:["1st","2nd"],交響曲第9番:["1st","2nd","CFg"]},トランペット:{交響曲第1番:["1st","2nd"],交響曲第2番:["1st","2nd"],交響曲第3番:["1st","2nd"],交響曲第4番:["1st","2nd"],交響曲第5番:["1st","2nd"],交響曲第6番:["1st","2nd"],交響曲第7番:["1st","2nd"],交響曲第8番:["1st","2nd"],交響曲第9番:["1st","2nd"]},ホルン:{交響曲第1番:["1st","2nd"],交響曲第2番:["1st","2nd"],交響曲第3番:["1st","2nd","3rd"],交響曲第4番:["1st","2nd"],交響曲第5番:["1st","2nd"],交響曲第6番:["1st","2nd"],交響曲第7番:["1st","2nd"],交響曲第8番:["1st","2nd"],交響曲第9番:["1st","2nd","3rd","4th"]}}},n=function(){var a=(0,i.useRouter)(),b=(0,l._)().localStorage,c=(0,j.useMemo)(function(){return a.query.name},[a]),n=(0,k.cI)({defaultValues:{musicSet:"ブラームス交響曲セット"},shouldUnregister:!0}),o=n.register,p=n.handleSubmit,q=n.watch,r=n.setValue,s=q("musicSet"),t=q("instrument"),u=(0,j.useMemo)(function(){return Object.keys(m)},[]),v=(0,j.useMemo)(function(){return null==s?[]:Object.keys(m[s])},[s]),w=(0,j.useMemo)(function(){return null==t||null==s?{}:m[s][t]},[t,s]),x=(0,j.useCallback)(function(){if(void 0!==b){var a=b.getItem("result");return null!=a?JSON.parse(a):void 0}},[b]),y=(0,j.useCallback)(function(e){if(void 0!==b){var f,h=null!==(f=x())&& void 0!==f?f:{};0===Object.keys(h).length&&(h.name=c,h.initSet={musicSet:s,instrument:t}),h.musicSet||(h.musicSet=(0,d.Z)({},s,(0,d.Z)({},t,{}))),h.musicSet[s]||(h.musicSet[s]=(0,d.Z)({},t,{})),h.musicSet[s][t]||(h.musicSet[s][t]={}),Object.entries(w).forEach(function(a){var b=(0,g.Z)(a,2),c=b[0],d=b[1];h.musicSet[s][t][c]={},d.forEach(function(a){h.musicSet[s][t][c][a]=e["".concat(t,"_").concat(c,"_").concat(a)]})}),b.setItem("result",JSON.stringify(h)),a.push("/result?l=".concat(s,": ").concat(t))}},[b,x,s,t,w,a,c]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("h1",{className:"text-center",children:[c," さんの乗り番入力"]}),(0,h.jsxs)("form",{onSubmit:p(y),children:[(0,h.jsx)("select",(0,f.Z)((0,e.Z)({className:"form-select","aria-label":"musicSet"},o("musicSet",{onChange:function(){return r("instrument","")}})),{children:u.map(function(a){return(0,h.jsx)("option",{value:a,children:a},a)})})),(0,h.jsxs)("select",(0,f.Z)((0,e.Z)({className:"form-select","aria-label":"instrument"},o("instrument",{onChange:function(a){var b=x();void 0!==b&& void 0!==b.musicSet[s]&& void 0!==b.musicSet[s][a.target.value]&&Object.entries(b.musicSet[s][a.target.value]).forEach(function(b){var c=(0,g.Z)(b,2),d=c[0];Object.entries(c[1]).forEach(function(b){var c=(0,g.Z)(b,2),e=c[0],f=c[1];r("".concat(a.target.value,"_").concat(d,"_").concat(e),f)})})}})),{children:[(0,h.jsx)("option",{value:"",children:"楽器を選択"}),v.map(function(a){return(0,h.jsx)("option",{value:a,children:a},a)})]})),Object.entries(null!=w?w:{}).map(function(a){var b=(0,g.Z)(a,2),c=b[0],d=b[1];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{className:"mt-3",children:c}),d.map(function(a){var b="".concat(t,"_").concat(c,"_").concat(a);return(0,h.jsxs)("div",{className:"form-check form-check-inline",children:[(0,h.jsx)("input",(0,f.Z)((0,e.Z)({className:"form-check-input",type:"checkbox"},o(b)),{name:b})),(0,h.jsx)("label",{className:"form-check-label",htmlFor:b,children:a})]},b)})]})}),(0,h.jsx)("div",{className:"d-grid mt-3",children:(0,h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"結果表示"})})]})]})};b.default=n}},function(a){a.O(0,[270,774,888,179],function(){var b;return a(a.s=7532)}),_N_E=a.O()}])